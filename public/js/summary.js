define(["jquery","d3","nvd3"],function(a){function b(a,b){nv.addGraph(function(){var c=nv.models.pieChart().x(function(a){return a.label}).y(function(a){return a.value}).showLabels(!1);return d3.select(b).datum(a).transition().duration(350).call(c),nv.utils.windowResize(c.update),c})}function c(b,c){nv.addGraph(function(){var d=nv.models.multiBarChart().reduceXTicks(a(window).width()<640).rotateLabels(0).showControls(!1).groupSpacing(.1);return d.yAxis.tickFormat(d3.format(",.2f")),d3.select(c).datum(b).transition().duration(350).call(d),nv.utils.windowResize(function(){a(window).width()<640?d.reduceXTicks(!0):d.reduceXTicks(!1),d.update()}),d})}function d(b,c,d){a.ajax({dataType:"json",url:"budget/data/get",data:c}).done(function(a){d(a,b)})}function e(a){return{dataType:"pie",column:a,budgetType:"Expense"}}function f(){d("#categories svg",e("category"),b),d("#payees svg",e("payee"),b),d("#budgetSummary svg",{dataType:"multiBar"},c)}function g(){f()}return{initPage:g}});